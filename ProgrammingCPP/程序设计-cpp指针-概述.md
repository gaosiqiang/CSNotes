# 指针

## 1、导读
本文旨在指针的探究和本质原理；

指针学习目标：指针在c语言中占有很重要的地位。从概念上就打好指针方面的基础。关于指针的学习概念是很重要的部分，所以要理解性的学习指针方面的知识。


## 2、指针概念定义
指向一个内存资源的**内存地址**即为**指向该资源的指针**，该内存地址即为**指针**；

通常把某个变量的内存地址称为指向该变量的指针。一个变量的地址就是指向这个变量的指针。

```cpp
int *pointer; //定义了一个指针变量；是指向int类型的指针类型；
int a = 100; //定义了一个int类型变量；
pointer = &a; //&a是指针，pointer是指针变量；
```

## 3、获取指针
获取方式：通过地址运算符&来获取指针；

获取指针表达式：

```cpp
&加上资源名称; //即可获取该名称资源的指针。也就是资源内存存储区域的起始单元的内存地址。
```

example1

```cpp
int a = 1;
&a; //获取变量a内存存储地址，即为获取指向变量a的指针。
int b;
cout << &a; //打印出变量a的指针。
```

example2

```cpp
#include <iostream>
#include <typeinfo> //引入typeinfo类库
using namespace std;

int main()
{
    int a = 100;
    cout << &a << endl; //输出变量a的指针
    cout << typeid(a).name() << endl; //输出i表示是int类型
    cout << typeid(&a).name() << endl; //输出Pi表示类型是指针，指向整数int资源的指针

    char b;
    b = 'a';
    cout << &b << endl; //输出变量b的指针
    cout << typeid(b).name() << endl; //输出c表示是char类型
    cout << typeid(&b).name() << endl; // 输出Pc表示类型是指针，指向字符char资源的指针

    cout << sizeof(&a) << endl; //输出该指针在内存中的存储多个个字节空间
    cout << sizeof(&b) << endl; //输出该指针在内存中的存储多个个字节空间

    return 0;
}
```

## 4、通过指针获取资源
指针运算符&加上资源名只是获取资源的指针，比如`&a;`只是获取a的指针。而获取指针对应的资源就需用另一个：指针运算符*

表达式格式：

```cpp
*加上指针;
```

example：

```cpp
#include <iostream>
using namespace std;

int main()
{
    int a = 100;
    cout << a << endl; //打印a的值，输出100
    cout << &a << endl; //打印a的指针，输出0x7fff8c685fa8，不同的环境可能不同
    int b;
    b = *&a; //将a指针指向的资源赋给b
    cout << b << endl; //打印b的值，输出100
    cout << *&a << endl; //打印a指针指向的资源，输出100
    return 0;
}
```

## 5、指针的适用范围
地址运算符&适用的对象不包括表达式、常量、register类型的变量；

## 6、指针的大小
1、指针的大小可以用sizeof函数获取，同样的代码在不同的编译器中指针的大小是不同的；

2、指针的大小也就是指针变量的大小在不同的编译器是不同的，比如docker的centos是8个字节，在centos内就是4个字节；

## 7、指针与内存地址的区别和联系
内存地址只是单纯的内存存储单元对应的地址，是没有类型的，而指针是有类型的；

## 8、指针的意义
通过指针访问指针指向的标定资源。

## 9、小结

1、用指针运算符\*就可以去访问这个指针指向的资源，`*&c`和`c`在c/cpp代码中是等价的。即使用指针运算符\*加上指针，来访问资源和直接在代码中使用资源名访问资源这两种方式是等价的；

3、编译时，编译器建立**变量名**到**地址**的映射；


## 拓展
### 详情
连接：https://apod.nasa.gov/apod/image/0403/n49_hst_full.jpg
名称：N49星云
图片：![](./images/n49_hst_full.jpeg)

### 说明

1、通过连接就可以获取到名字叫N49星云的图片资源。连接就是这是图片的地址。图片就是连接对应的对应的资源，名称就是该资源的名称；

2、可以把连接称为指向这个资源的指针（这里资源这里是指图片）

3、这个连接就把它称作指针；

4、存储这个链接的变量就是指针变量；

## Q&A
- 指针是不是就是内存地址？指针变量是否只是存储指针的变量？