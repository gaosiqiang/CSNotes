# 程序的执行
[TOC]

## 程序
程序是一个指令序列集合，这里的程序是属于底层的概念。而使用高级语言编写的程序是属于应用层范畴的程序是逻辑的有机结合不是指令序列的集合。要注意区分

程序与指令之间的区别是指令是给cpu执行的，而程序是给RD看的或者理解程序是无法直接执行的。而编程语言本质上是人与计算机工作机制原理对话的工具，所以可以从人类的社会生活中找到计算机世界中对应的事物或者是受真实世界启发的计算机事物。


## 程序在计算机的执行过程：
1、程序源码计算机是无法执行的，需要将源码编译成汇编代码。
2、汇编代码计算机依然无法直接执行，需要将汇编代码转化成机器码，也就是cpu架构对应的指令集的指令序列。
3、cpu才能执行。

### demo：

#### c++源码

```
a = 4;
b = 3;
c = a + b;
```

#### 编译后的汇编代码

```
mov a,4
mov b,3
mov eax,a
add eax,b
mov c,eax
```

#### 执行流程
1、计算机会在内存中开辟出2个区域一个区域放代码的代码区另一个是存放数据的数据区。
2、cpu的程序计数器指向第一条汇编程序代码‘mov a,4’，这行代码的含义是在数据区的栈区给变量a赋值4。
3、在cpu的控制器驱动下程序计数器指向下一条汇编代码‘mov b,3’，这行代码的含义是在数据区的栈区给变量b赋值3。
4、控制器的驱动下执行下一条‘mov eax,a’代码，这行代码的含义是把内存数据区中变量a对应的栈区存放的数据4传递给运算器的累加寄存器中。
5、执行‘add eax,b’，这行代码的含义是将内存数据区中变量b对应栈区存放的数据3传递到缓冲寄存器中，然后ALU执行add对应的相加操作把缓存寄存器中的3与累加寄存器的4相加得到7然后存放到累加寄存器中。
6、执行‘mov c,eax’，这行代码的含义是将累加寄存器中的7赋值给数据区的栈区变量c。
7、程序执行完成。

## 总结
1、上面案例中cpu执行的是汇编代码对应的机器码。为了方便就没有表示。
2、源码编译后每一行源代码都会有对应的汇编代码，一行源码有可能会被编译出一行或多行汇编代码。
3、程序编译后转换的机器码是在控制器的协调下逐步连续依次的执行。
4、程序的执行是在内存中完成的。
5、内存被分为代码区和数据区，代码和数据在内存中不在同一个区域内。
6、这里只是讨论了汇编语言层面的程序执行。

## 拓展：
- 将程序源代码解释成一条条指令码和操作数，这个过程就是编译
- 程序=数据结构+算法
- 程序之间的逻辑链：脚本语言=>高级语言源码=>汇编语言代码=>机器码=>指令集=>逻辑电路