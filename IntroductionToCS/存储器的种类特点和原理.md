# 存储器的种类特点和原理

## 存储空间单位
2^10=1024
一位二进制数所占空间是一位也称为一个比特位 1b(bit)。
八个二进制数所占空间是一个字节 1B(Byte) = 8b(bit)。
字节是计算机能控制的最小数据单位。

## 存储器分类
- 寄存器
- 高速缓存cache
- 内存
- 外存：通常是指硬盘，做持久化存储的逻辑设备

## 存储器的工作频率
寄存器的工作频率与cpu相同，高速缓存的工作频率接近cpu，高速缓存还分为在cpu内部的内缓存和在cpu之外的外缓存，内存的工作频率低于cpu，外存的工作频率低于内存。

工作频率对比：寄存器>高速缓存>内存>外存

## 存储器优先级
cpu为了保证工作效率，命中数据的优先级是：寄存器>缓存>内存>外存。
多级缓存机制加快cpu的运行速度。符合局部性原理

## 总结
寄存器和cache存放cpu正在处理的指令和数据，参与cpu工作计算任务的存储空间
内存存放cpu中运算的数据和与外存交换的数据，内存的工作频率越来越接近cpu工作频率但是还有有差距的

## 外存
### 磁盘
磁盘是由磁感应材料制成，能够感应和改变单元的NS磁极。

读取数据，计算机一次性感应所有磁盘内的NS极，转成电信号最后转成0或1数据。

写入数据，计算机一次性将数据0和1转成电信号然后生成感应磁场改变磁盘的每个单元的NS极。

还有一种磁带存储介质，原理与磁盘差不多，缺点是不能随机读写。需要读写全部。

### 光盘
#### 可重复写入
可重读读写的光盘是由可变光感材料制成，材料的光感状态分为2种（反射，不反射）。因为材料的内的原子排列不规则时是不反光的，而排列规则的时候是反光的。光盘上的光感单元对光感原件转成电信号最后转成二进制0和1。

读写步骤：
1、光感原件摆动到指定目标位置。
2、电机转动光盘到指定目标为位置。
3、读取数据，依据光感单位是否反光转成电信号最后转成二进制数据。
4、写入数据，将二进制数据转成电信号然后激光发射激光改变光感单元区域的原子阵列方式，实现存储数据的目的。

#### 刻录光盘
刻录光盘是由稳定的光感材料制成，在光盘扇面上用激光刻蚀出pit坑，也称为数据坑，数据坑的部分不反光。光盘上的反光和不反光对应二进制数据的0和1。

读写步骤：
1、光感原件摆动到指定目标位置。
2、电机转动光盘到指定目标为位置。
3、读取数据，依据光感单位是否反光转成电信号最后转成二进制数据。
4、刻录数据，将二进制数据转成电信号然后激光发射激光刻蚀光盘的存储单元pit坑，实现存储数据的目的。

每隔128KB数据会生成一个哈希内容加密签名，一个4.7GB的光盘实际可存储的空间是4GB。

### 机械硬盘
磁盘是由磁感材料制成，磁盘被分为多个磁道，一个磁道分为多个扇面，扇面上又被划分多个磁极单元，每个单元只有N或S磁极，也就对应了二进制的0或1。
数据的读写步骤：
1、获取数据的索引映射等位置信息。
2、磁头机械臂摆动到目标磁道
3、电机转动磁盘到目标扇面
4、读取数据是，磁头感应NS极转换成0或1的电信号
5、写入数据是，磁头根据数据0或1转化成磁力感应改变NS极

### SSD
ssd是由多个存储单元组合而成，每个存储单元只能存储一个bit的数据。数据的存储和读写由一个控制芯片主导。数据的读写的都是通过芯片直接读写存储单元，所以读写速度比其他的存储介质指数级的提升。

现在的ssd是将8个或者多个存储单元组成一个阵列也就是存储模块，然后读取数据都是通过这个模块进行的。进一步的提升了效率和降低的成本。

每个存储单元有一定擦写次数的，时间长了存储单元会失效。如果ssd长时间不用存储单元内的电子流失会导致数据的丢失。

### 比较

| 类型 | 优点 | 缺点 |
| :-- |:-- |:-- |
| 磁带 | 低成本 | 容易消磁，不能随机读写 |
| 磁盘 |  | 容易消磁 | 
| 可重复读写光盘 |  | 不能长时间暴露光源下，受环境影响较大 |
| 刻录光盘 | 稳定，安全，受环境影响小 | 破坏数据的只有物理破坏 |
| 机械硬盘 | 稳定，方便大量数据的存储 | 在强磁场环境会数据丢失，EMP环境下数据丢失 |
| SSD | 高效率 | 在强磁场环境会数据丢失，EMP环境下数据丢失，长时间闲置数据会丢失 |

性能：SSD>机械硬盘>可重复读写光盘>刻录光盘>磁盘>磁带
安全：刻录光盘>机械硬盘>SSD
性价比：机械硬盘>刻录光盘>SSD

## 思考
- 为什么是八个比特位是一个字节，这其中有什么数学逻辑关系？